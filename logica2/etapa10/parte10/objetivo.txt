 3: Sistema de Locadora de Filmes

ğŸ“¦ DescriÃ§Ã£o
VocÃª vai criar um sistema de banco de dados relacional que simula uma locadora de filmes

ğŸ“ Estrutura esperada do projeto
etapa3_banco/
â”œâ”€â”€ main.py                    # Interface/menu
â”œâ”€â”€ banco/
â”‚   â”œâ”€â”€ conexao.py             # Cria conexÃ£o com SQLite
â”‚   â”œâ”€â”€ script.sql             # CriaÃ§Ã£o das tabelas
â”‚   â”œâ”€â”€ operacoes.py           # FunÃ§Ãµes que executam INSERT, SELECT, etc
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_operacoes.py      # Testes com pytest
â”œâ”€â”€ data/
â”‚   â””â”€â”€ banco.db               # Banco de dados SQLite gerado

ğŸ§± Modelo de Dados (MER)
| Tabela       | Atributos                                                                           |
| ------------ | ----------------------------------------------------------------------------------- |
| **clientes** | id\_cliente (PK), nome, email                                                       |
| **filmes**   | id\_filme (PK), titulo, categoria, preco\_aluguel                                   |
| **alugueis** | id\_aluguel (PK), id\_cliente (FK), id\_filme (FK), data\_aluguel, devolvido (bool) |

ğŸ“„ Funcionalidades obrigatÃ³rias
ğŸ“Œ Criar banco e tabelas com script.sql CHECK

ğŸ“Œ Inserir clientes e filmes via cÃ³digo Python 

ğŸ“Œ Registrar um aluguel (cliente X alugou filme Y)

ğŸ“Œ Listar todos os aluguÃ©is com JOIN mostrando nome do cliente + tÃ­tulo do filme

ğŸ“Œ Listar filmes alugados que ainda nÃ£o foram devolvidos

ğŸ“Œ Listar os 3 clientes que mais alugaram filmes

ğŸ“Œ Calcular valor total de filmes alugados por cliente

ğŸ“Œ Atualizar status de devoluÃ§Ã£o

ğŸ“Œ Deletar cliente (com tratamento se tiver aluguÃ©is ativos)

ğŸ§ª Testes obrigatÃ³rios com pytest

FunÃ§Ã£o	O que serÃ¡ testado
InserÃ§Ã£o de cliente	Se cliente foi inserido corretamente
Registro de aluguel	Se o aluguel Ã© gravado e referenciado corretamente
Consultas com JOIN	Se os dados retornam corretamente com relaÃ§Ã£o
Filtros com WHERE e ORDER BY	Se os clientes que mais alugaram sÃ£o retornados corretamente

ğŸ“Œ Use pytest.mark.parametrize, assert, e simule banco temporÃ¡rio em testes se desejar.

ğŸ§  Conceitos de lÃ³gica aplicados
| Conceito                     | AplicaÃ§Ã£o                                           |
| ---------------------------- | --------------------------------------------------- |
| Contagem por grupo           | `SELECT COUNT(*) GROUP BY id_cliente`               |
| Filtragem booleana           | `WHERE devolvido = 0`                               |
| Soma condicionada            | `SUM(preco_aluguel)` por cliente                    |
| Condicional em SQL ou Python | Validar se pode deletar cliente com aluguÃ©is ativos |

â±ï¸ Prazo estimado
Modelagem + script.sql: 1 dia
FunÃ§Ãµes Python + conexÃµes: 2â€“3 dias
Consultas SQL + lÃ³gicas: 1â€“2 dias
Testes com pytest: 1 dia
main.py + revisÃ£o final: 1 dia